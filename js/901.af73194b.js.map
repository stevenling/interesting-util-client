{"version":3,"file":"js/901.af73194b.js","mappings":"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","sources":["webpack://interesting-util-client/./src/components/TextFormat.vue","webpack://interesting-util-client/./src/components/TextFormat.vue?a9d3"],"sourcesContent":["<template>\n  <div id=\"app\">\n    <el-card class=\"box-card\">\n      <template #header>\n        <div class=\"card-header\">\n          <div class=\"title\">文本美化</div>\n        </div>\n      </template>\n      <el-row :gutter=\"120\">\n        <el-col :span=\"12\" class=\"el-input-content\">\n          <div class=\"json-title\">\n            待格式化文本\n            <el-button class=\"clear-and-copy-button\" type=\"danger\" @click=\"clickClear\"\n              >清空</el-button\n            >\n          </div>\n          <el-input\n            v-model=\"currentText.oldText\"\n            :rows=\"23\"\n            type=\"textarea\"\n            placeholder=\"请输入待美化文本\"\n            class=\"el-input-class\"\n          />\n        </el-col>\n\n        <el-col :span=\"12\" class=\"el-input-content\">\n          <div class=\"json-title\">\n            美化后的文本\n            <el-button class=\"clear-and-copy-button\" type=\"success\" @click=\"clickCopy\"\n              >复制到剪贴板</el-button\n            >\n          </div>\n          <!--          <highlightjs language='json' :code= \"currentText.formatText\" class = \"highlight-json\"/>-->\n          <el-input\n            v-model=\"currentText.formatText\"\n            :rows=\"23\"\n            type=\"textarea\"\n            placeholder=\"美化后的文本\"\n            class=\"el-input-class\"\n          />\n        </el-col>\n      </el-row>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport moment from \"moment\"; // 引入 moment 处理时间\nimport { onMounted, watch, reactive } from \"vue\";\nimport { ElMessage } from \"element-plus\";\nimport useClipboard from \"vue-clipboard3\"; // 引入剪切板处理\n\nexport default {\n  setup() {\n    let currentText = reactive({ oldText: \"\", formatText: \"\" });\n    onMounted(() => {\n      document.querySelector(\"body\").setAttribute(\"style\", \"background: #EBEDF0\");\n    });\n\n    /**\n     * 监听原来的未格式化的文本，必须使用 try catch 异常处理，否则会报错\n     * 用箭头函数来监听 reactive 中的某个基本数据\n     *\n     * @param oldText 用户输入的未格式化的文本，最开始是空\n     * @param newValue 用户改变后的新的值\n     */\n    watch(\n      () => currentText.oldText,\n      (newValue, oldValue) => {\n        console.log(\"newValue\" + newValue);\n        const jsonFormatSpace = 4; // json 格式化的缩进\n        if (typeof newValue == \"string\" && newValue !== \"\" && newValue != null) {\n          try {\n            let pattern = \"/^[a-zA-Z]+$/\";\n            const res = newValue.replace(\"/^[a-zA-Z]+$/\", \"www\");\n            console.log(\"res\" + res);\n          } catch (e) {\n            ElMessage.error(\"待格式化的文本有误，请检查\");\n            console.log(e);\n            currentText.formatText = \"\";\n          }\n        }\n        if (newValue === \"\") {\n          currentText.formatText = \"\";\n        }\n      }\n    );\n\n    /**\n     * 点击下载\n     */\n    function clickDownload() {\n      if (currentText.formatText === \"\") {\n        ElMessage.error(\"下载空 Json 没有意义\");\n        return;\n      }\n\n      let eleLink = document.createElement(\"a\");\n      const fileName = moment().format(\"YYYY-MM-DD-hh-mm-ss\");\n\n      eleLink.download = fileName + \".json\";\n      eleLink.style.display = \"none\";\n      // 字符内容转变成 blob 地址\n      let blob = new Blob([currentText.formatText], { type: \"text/json\" });\n      eleLink.href = URL.createObjectURL(blob);\n      // 触发点击\n      document.body.appendChild(eleLink);\n      eleLink.click();\n      // 然后移除\n      document.body.removeChild(eleLink);\n    }\n\n    /**\n     * 点击清空\n     */\n    function clickClear() {\n      if (currentText.oldText === \"\") {\n        ElMessage.info(\"已经清空了，没必要再次清空\");\n      }\n      currentText.formatText = \"\";\n      currentText.oldText = \"\";\n    }\n\n    /**\n     * 点击复制 json 到剪切板\n     */\n    async function clickCopy() {\n      console.log(\"clickCopy\");\n      const { toClipboard } = useClipboard();\n      if (currentText.formatText == null || currentText.formatText === \"\") {\n        ElMessage.error(\"无法复制空的 json \");\n        return;\n      }\n      try {\n        await toClipboard(currentText.formatText);\n        ElMessage.success(\"复制格式化后的 json 到剪切板成功\");\n      } catch (e) {\n        console.error(e);\n        ElMessage.error(\"复制格式化后的 json 到剪切板失败\");\n      }\n    }\n\n    return {\n      currentText,\n      onMounted,\n      clickDownload,\n      clickClear,\n      clickCopy,\n    };\n  },\n};\n</script>\n\n<style scoped>\nhtml,\nbody {\n  width: 100%;\n  height: 100%;\n}\n\n.app {\n  background: #ebedf0;\n}\n\n.box-card {\n  /* 表示上下边界为 0，左右则根据宽度自适应相同值 */\n  /*display: flex;*/\n  /*position: absolute;*/\n\n  margin: 1rem auto;\n  width: 50%;\n  text-align: center;\n}\n\n.title {\n  font-size: 1.5rem;\n  font-weight: bold;\n  font-family: Arial, \"Microsoft YaHei\";\n  margin: 2rem;\n}\n\n.button {\n  color: #fffdf2;\n  margin-left: 1rem;\n}\n\n.clear-and-copy-button {\n  margin-left: 5rem;\n}\n\n.el-input-content {\n  font-size: 1.125rem;\n  /* 18px */\n  width: 25rem;\n}\n\n.json-title {\n  font-size: 1.125rem;\n  margin: 1rem;\n}\n\n.el-input-class {\n  font-size: 1rem;\n}\n\n.el-button-list {\n  margin-left: 2rem;\n}\n\n.highlight-json {\n  text-align: left;\n  font-size: 1.125rem;\n  /* 18px */\n  /*width: 25rem;*/\n  height: 100%;\n}\n</style>\n","import { render } from \"./TextFormat.vue?vue&type=template&id=c84c47d2&scoped=true\"\nimport script from \"./TextFormat.vue?vue&type=script&lang=js\"\nexport * from \"./TextFormat.vue?vue&type=script&lang=js\"\n\nimport \"./TextFormat.vue?vue&type=style&index=0&id=c84c47d2&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/interesting-util-client/interesting-util-client/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-c84c47d2\"]])\n\nexport default __exports__"],"names":["id","_createElementVNode","class","_createElementBlock","_createVNode","_component_el_card","header","_hoisted_2","_component_el_row","gutter","_component_el_col","span","_component_el_button","type","onClick","$setup","_component_el_input","oldText","$event","rows","placeholder","formatText","setup","currentText","reactive","clickDownload","ElMessage","eleLink","document","createElement","fileName","moment","format","download","style","display","blob","Blob","href","URL","createObjectURL","body","appendChild","click","removeChild","clickClear","async","clickCopy","console","log","toClipboard","useClipboard","e","error","onMounted","querySelector","setAttribute","watch","newValue","oldValue","res","replace","__exports__","render"],"sourceRoot":""}