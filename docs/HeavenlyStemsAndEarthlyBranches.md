## 一、前言
司马迁在《史记·五帝本纪》中描写黄帝「顺天地之纪，幽明之占，死生之说，存亡之难」。翻译成现代汉语是黄帝顺应天地四时的规律，推测阴阳的变化，讲解生死的道理，论述存与亡的原因。
因此纪年在古代非常重要，有时候看历史相关书籍的时候也会遇到干支纪年，这次稍微分析下，并用代码获取公历年对应的干支纪年。
## 二、干支概念
相传干支纪年法兴于东汉，东汉元和二年（公元 85 年）的时候，政府用行政命令将其推广开。
天干共 `10` 个文字：甲、乙、丙、丁、戊、己、庚、辛、壬、癸，循环使用。
天干和地支都分阴阳
阳天干：甲、丙、戊、庚、壬
阴天干：乙、丁、己、辛、癸
地支共 `12` 个文字：子、丑、寅、卯、辰、巳、午、未、申、酉、戌、亥，循环使用。
阳地支：子、寅、辰、午、申、戌
阴地支：丑、卯、巳、未、酉、亥
第一次看 `10` 天干，`12` 地支，那应该是 `120` 种组合啊，为什么一甲子是 `60` 年呢？
**其实纪年的匹配规则是阳天干配阳地支，阴天干配阴地支。**因此就是 `5 * 6 * 2 = 60` 年一甲子。
所有情况如下：

| 甲子 | 乙丑 | 丙寅 | 丁卯 | 戊辰 | 己巳 | 庚午 | 辛未 | 壬申 | 癸酉 |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| 甲戌 | 乙亥 | 丙子 | 丁丑 | 戊寅 | 己卯 | 庚辰 | 辛巳  | 壬午 | 癸未 |
| 甲申 | 乙酉 | 丙戌 | 丁亥 | 戊子 | 己丑 | 庚寅 | 辛卯 | 壬辰 | 癸巳 |
| 甲午 | 乙未 | 丙申 | 丁酉 | 戊戌 | 己亥 | 庚子 | 辛丑 | 壬寅 | 癸卯 |
| 甲辰 | 乙巳 | 丙午 | 丁未 | 戊申 | 己酉 | 庚戌 | 辛亥 | 壬子 | 癸丑 |
| 甲寅 | 乙卯 | 丙辰 | 丁巳 | 戊午 | 己未 | 庚申 | 辛酉 | 壬戌 | 癸亥 |

公元 `4` 年是一个甲子年。
我知道比较有名的是中日甲午战争，壬辰卫国战争（万历朝鲜之役）、庚子赔款。
公元 `2023` 年是癸卯年，那么甲午是 `2014` 年，中日甲午战争发生在 `1894` 年，和 `2014` 年隔了两个甲子。
公元 `2012` 年是壬辰年，壬辰卫国战争发生在 `1592` 年，隔了七个甲子。
公元 `2020` 年是庚子年。两个甲子前是 `1900` 年。
庚子赔款是 `1900` 年的大清与 `11` 个国家签署不平等条约《辛丑条约》规定的赔款，赔偿总额关平银 `4` 亿 `5000` 万两，本息共计 `9.8` 亿两，分 `39` 年还清。`10` 年后大清亡了，列强要民国继续还债，日本在 `1931` 年九一八事变侵略了中国，蒋介石依然给日本还债，蒋介石真是无耻至极啊。
## 三、干支的应用
我们一般用天干表示序数，比如签合同的时候甲方，乙方，丙方。
地支的应用有两个：

1. 生肖

十二生肖是「鼠、牛、虎、兔、龙、蛇、马、羊、猴、鸡、狗、猪」，对于十二地支，那么就有「子鼠、丑牛、寅虎、卯兔、辰龙、巳蛇、午马、未羊、申猴、酉鸡、戌狗、亥猪」。

2. 时辰
| 时辰 | 时间 | 别名 | 更 |
| --- | --- | --- | --- |
| 子时 | 23:00-0:59 | 夜半 | 三更 |
| 丑时 | 1:00-2:59 | 鸡鸣 | 四更 |
| 寅时 | 3:00-4:59 | 平旦 | 五更 |
| 卯时 | 5:00-6:59 | 日出 |  |
| 辰时 | 7:00-8:59 | 食时 |  |
| 巳时 | 9:00-10:59 | 隅中 |  |
| 午时 | 11:00-12:59 | 日中 |  |
| 未时 | 13:00-14:59 | 日昳 |  |
| 申时 | 15:00-16:59 | 晡时 |  |
| 酉时 | 17:00-18:59 | 日入 |  |
| 戌时 | 19:00-20:59 | 黄昏 | 一更 |
| 亥时 | 21:00-22:59 | 人定 | 二更 |

## 四、转换
首先生成一个二维数组，包含 `60` 个具体的天干地支，由于公元 `4` 年是甲子年。
设公元 `x` 是要知道具体天干地支的年份，通过` (x - 4) % 60` 可以知道在天干地支表的位置，然后输出即可。 
为了让结果更好看点，我还加入了公元 `x` 年对应的朝代。
## 五、结果
![image.png](https://cdn.nlark.com/yuque/0/2023/png/726118/1697713052080-a87676d3-4efa-4941-a8fd-66ede13ba2b6.png#averageHue=%23fefefe&clientId=uce17187f-b08d-4&from=paste&height=831&id=u0890a6dd&originHeight=831&originWidth=956&originalType=binary&ratio=1&rotation=0&showTitle=false&size=30496&status=done&style=none&taskId=ub2ae917c-889a-41f4-bf21-6c9ee086776&title=&width=956)

![image.png](https://cdn.nlark.com/yuque/0/2023/png/726118/1697713103109-6797ad15-6a90-44b3-bde4-ee9aae241407.png#averageHue=%23fefefe&clientId=uce17187f-b08d-4&from=paste&height=825&id=u6db7491d&originHeight=825&originWidth=953&originalType=binary&ratio=1&rotation=0&showTitle=false&size=30402&status=done&style=none&taskId=ueb06f121-e8e5-406a-a3ee-8b1865ab4ed&title=&width=953)

`GitHub` 仓库开源地址：[https://github.com/stevenling/interesting-util-client](https://github.com/stevenling/interesting-util-client)
体验地址：[http://utils.yunhu.wiki/](http://utils.yunhu.wiki/)
