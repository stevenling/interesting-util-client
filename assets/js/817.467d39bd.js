"use strict";(self["webpackChunkinteresting_util_client"]=self["webpackChunkinteresting_util_client"]||[]).push([[817],{9817:function(e,a,l){l.r(a),l.d(a,{default:function(){return k}});var g=l(641),r=l(33),b=l(953),i=l(354),u=l.n(i),n=l(163),t=l(5638);const o={class:"font-to-image-row-container"},d={class:"font-to-image-left"},s={class:"font-to-image-right"},v=["src"],h={class:"dialog-footer"};var f={__name:"fontToImage",setup(e){const a=[{label:"纯色背景",value:"solid"},{label:"渐变背景",value:"gradient"},{label:"格子背景",value:"grid"},{label:"纹理背景",value:"texture"}],l=[{label:"经典白",value:"bg-white"},{label:"淡雅蓝",value:"bg-blue"},{label:"活力橙",value:"bg-orange"},{label:"淡灰卡片",value:"bg-light-gray"},{label:"雅黑黑",value:"bg-dark-black"},{label:"米黄纸",value:"bg-milky-paper"},{label:"夜间深蓝",value:"bg-night-blue"},{label:"淡粉紫",value:"bg-light-pink-purple"},{label:"知乎白",value:"bg-zhihu-white"},{label:"知乎淡蓝",value:"bg-zhihu-light-blue"},{label:"知乎淡黄",value:"bg-zhihu-light-yellow"},{label:"知乎淡绿",value:"bg-zhihu-light-green"},{label:"知乎淡灰",value:"bg-zhihu-light-gray"},{label:"小红书粉",value:"bg-xiaohongshu-pink"},{label:"小红书紫",value:"bg-xiaohongshu-purple"},{label:"小红书蓝",value:"bg-xiaohongshu-blue"},{label:"小红书绿",value:"bg-xiaohongshu-green"},{label:"小红书橙",value:"bg-xiaohongshu-orange"}],i=[{label:"渐变绿",value:"bg-gradient-green"},{label:"蓝紫渐变",value:"bg-gradient-bluepurple"},{label:"橙粉渐变",value:"bg-gradient-orange-pink"},{label:"青绿渐变",value:"bg-gradient-cyan-green"},{label:"蓝紫竖向渐变",value:"bg-v-gradient-bluepurple"},{label:"橙粉竖向渐变",value:"bg-v-gradient-orange-pink"},{label:"青绿竖向渐变",value:"bg-v-gradient-cyan-green"},{label:"柔和青蓝",value:"bg-gradient-soft-cyan-blue"},{label:"柔粉橙黄",value:"bg-gradient-soft-pink-orange"},{label:"柔紫蓝",value:"bg-gradient-soft-purple-blue"},{label:"柔绿黄",value:"bg-gradient-soft-green-yellow"},{label:"柔米白",value:"bg-gradient-soft-milky"},{label:"知乎蓝白渐变",value:"bg-zhihu-blue-white-gradient"},{label:"小红书粉紫渐变",value:"bg-xiaohongshu-pink-purple"},{label:"小红书蓝粉渐变",value:"bg-xiaohongshu-blue-pink"},{label:"日落渐变",value:"bg-gradient-sunset"},{label:"海洋渐变",value:"bg-gradient-ocean"},{label:"森林渐变",value:"bg-gradient-forest"},{label:"星空渐变",value:"bg-gradient-starry"},{label:"彩虹渐变",value:"bg-gradient-rainbow"},{label:"极光渐变",value:"bg-gradient-aurora"},{label:"沙漠渐变",value:"bg-gradient-desert"},{label:"樱花渐变",value:"bg-gradient-cherry"},{label:"薄荷渐变",value:"bg-gradient-mint"},{label:"薰衣草渐变",value:"bg-gradient-lavender"}],f=[{label:"格子白",value:"bg-grid-white"},{label:"格子蓝",value:"bg-grid-blue"},{label:"格子粉",value:"bg-grid-pink"},{label:"格子灰",value:"bg-grid-gray"},{label:"格子绿",value:"bg-grid-green"}],p=[{label:"纸张纹理",value:"bg-paper"},{label:"小红书大理石",value:"bg-xiaohongshu-marble"},{label:"小红书纸张",value:"bg-xiaohongshu-paper"}],c=(0,b.KR)("solid"),k=(0,b.KR)("bg-white"),m=(0,g.EW)(()=>{switch(c.value){case"solid":return l;case"gradient":return i;case"grid":return f;case"texture":return p;default:return l}});(0,g.wB)(c,e=>{switch(e){case"solid":k.value="bg-white";break;case"gradient":k.value="bg-gradient-green";break;case"grid":k.value="bg-grid-white";break;case"texture":k.value="bg-paper";break}});const w=(0,b.KR)(""),y=(0,b.KR)(null);function x(){const e=new Date,a=e.getFullYear(),l=String(e.getMonth()+1).padStart(2,"0"),g=String(e.getDate()).padStart(2,"0");return`${a}-${l}-${g}`}const _=x(),F=(0,b.KR)(!1),z=(0,b.KR)(""),C=async()=>{if(y.value)try{const e=await u()(y.value,{backgroundColor:"#ffffff",useCORS:!0,scale:3,allowTaint:!1,foreignObjectRendering:!1,logging:!1,imageTimeout:0,removeContainer:!0}),a=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);a?(z.value=e.toDataURL("image/png",1),F.value=!0,n.nk.info("请长按图片进行保存或复制")):e.toBlob(async e=>{if(e)try{await navigator.clipboard.write([new window.ClipboardItem({"image/png":e})]),n.nk.success("图片已复制到剪贴板，可直接粘贴")}catch(a){console.error("复制失败:",a),n.nk.error("复制图片到剪贴板失败，可能是浏览器不支持或权限问题")}else n.nk.error("图片生成失败")},"image/png",1)}catch(e){console.error("截图失败:",e),n.nk.error("图片生成失败")}},V=[{label:"默认",value:""},{label:"微软雅黑",value:'"Microsoft YaHei", sans-serif'},{label:"思源黑体",value:'"Source Han Sans", "Noto Sans SC", sans-serif'},{label:"楷体",value:'KaiTi, "楷体", serif'},{label:"仿宋",value:'FangSong, "仿宋", serif'},{label:"Arial",value:"Arial, sans-serif"},{label:"Serif",value:"serif"},{label:"Monospace",value:"monospace"}],K=(0,b.KR)('KaiTi, "楷体", serif'),L={"bg-white":"#222","bg-blue":"#222","bg-orange":"#a35a00","bg-gradient-green":"#1a4d2e","bg-paper":"#6b4e16","bg-gradient-bluepurple":"#fff","bg-gradient-orange-pink":"#fff","bg-gradient-cyan-green":"#1a4d2e","bg-light-gray":"#222","bg-top-blue-band":"#222","bg-top-orange-band":"#a35a00","bg-v-gradient-bluepurple":"#fff","bg-v-gradient-orange-pink":"#fff","bg-v-gradient-cyan-green":"#1a4d2e","bg-dark-black":"#fff","bg-milky-paper":"#6b4e16","bg-night-blue":"#e0e6f6","bg-light-pink-purple":"#7c4d8a","bg-gradient-soft-cyan-blue":"#227488","bg-gradient-soft-pink-orange":"#b87a4b","bg-gradient-soft-purple-blue":"#5a6a8e","bg-gradient-soft-green-yellow":"#6b8e23","bg-gradient-soft-milky":"#7c6f57","bg-zhihu-white":"#222","bg-zhihu-light-blue":"#225488","bg-zhihu-light-yellow":"#b89b4b","bg-zhihu-light-green":"#3a7a3a","bg-zhihu-light-gray":"#444","bg-zhihu-blue-white-gradient":"#225488","bg-xiaohongshu-pink":"#8e4a6b","bg-xiaohongshu-purple":"#6b4a8e","bg-xiaohongshu-blue":"#4a6b8e","bg-xiaohongshu-green":"#4a8e6b","bg-xiaohongshu-orange":"#8e6b4a","bg-xiaohongshu-pink-purple":"#fff","bg-xiaohongshu-blue-pink":"#fff","bg-xiaohongshu-marble":"#4a4a4a","bg-xiaohongshu-paper":"#6b4e16","bg-grid-white":"#222","bg-grid-blue":"#1a4d8e","bg-grid-pink":"#8e4a6b","bg-grid-gray":"#444","bg-grid-green":"#2d5a2d","bg-gradient-sunset":"#fff","bg-gradient-ocean":"#fff","bg-gradient-forest":"#fff","bg-gradient-starry":"#fff","bg-gradient-rainbow":"#fff","bg-gradient-aurora":"#fff","bg-gradient-desert":"#8e6b4a","bg-gradient-cherry":"#fff","bg-gradient-mint":"#2d5a2d","bg-gradient-lavender":"#6b4a8e"},R=(0,g.EW)(()=>L[k.value]||"#222");return(e,l)=>{const i=(0,g.g2)("el-input"),u=(0,g.g2)("el-card"),n=(0,g.g2)("el-option"),f=(0,g.g2)("el-select"),p=(0,g.g2)("el-button"),x=(0,g.g2)("el-dialog");return(0,g.uX)(),(0,g.CE)("div",null,[(0,g.bF)(t.A),(0,g.Lk)("div",o,[(0,g.Lk)("div",d,[(0,g.bF)(u,{class:"input-card"},{header:(0,g.k6)(()=>l[6]||(l[6]=[(0,g.Lk)("div",{class:"input-title"},"输入你的摘录文字",-1)])),default:(0,g.k6)(()=>[(0,g.bF)(i,{modelValue:w.value,"onUpdate:modelValue":l[0]||(l[0]=e=>w.value=e),type:"textarea",rows:20,placeholder:"请输入你想生成图片的文字",class:"input-area"},null,8,["modelValue"])]),_:1})]),(0,g.Lk)("div",s,[l[9]||(l[9]=(0,g.Lk)("div",{class:"preview-title"},"预览效果",-1)),(0,g.bF)(f,{modelValue:c.value,"onUpdate:modelValue":l[1]||(l[1]=e=>c.value=e),placeholder:"选择背景类型",size:"small",style:{"margin-bottom":"0.7rem",width:"180px"}},{default:(0,g.k6)(()=>[((0,g.uX)(),(0,g.CE)(g.FK,null,(0,g.pI)(a,e=>(0,g.bF)(n,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"]),(0,g.bF)(f,{modelValue:k.value,"onUpdate:modelValue":l[2]||(l[2]=e=>k.value=e),placeholder:"选择背景",size:"small",style:{"margin-bottom":"0.7rem",width:"180px"}},{default:(0,g.k6)(()=>[((0,g.uX)(!0),(0,g.CE)(g.FK,null,(0,g.pI)(m.value,e=>((0,g.uX)(),(0,g.Wv)(n,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),(0,g.bF)(f,{modelValue:K.value,"onUpdate:modelValue":l[3]||(l[3]=e=>K.value=e),placeholder:"选择字体",size:"small",style:{"margin-bottom":"0.7rem",width:"180px"}},{default:(0,g.k6)(()=>[((0,g.uX)(),(0,g.CE)(g.FK,null,(0,g.pI)(V,e=>(0,g.bF)(n,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"]),(0,g.bF)(p,{type:"success",class:"copy-btn",onClick:C,size:"small"},{default:(0,g.k6)(()=>l[7]||(l[7]=[(0,g.eW)("复制图片")])),_:1,__:[7]}),(0,g.Lk)("div",{ref_key:"imageCardRef",ref:y,class:(0,r.C4)(["weixin-card-preview",k.value])},[l[8]||(l[8]=(0,g.Lk)("div",{class:"quote-mark"},'"',-1)),(0,g.Lk)("div",{class:"weixin-card-text",style:(0,r.Tr)({color:R.value,fontFamily:K.value||void 0})},(0,r.v_)(w.value||"这里会显示你的摘录内容"),5),(0,g.Lk)("div",{class:"weixin-card-date",style:(0,r.Tr)({color:R.value})},(0,r.v_)((0,b.R1)(_)),5)],2)])]),(0,g.bF)(x,{modelValue:F.value,"onUpdate:modelValue":l[5]||(l[5]=e=>F.value=e),title:"保存图片",width:"90%",center:""},{footer:(0,g.k6)(()=>[(0,g.Lk)("span",h,[(0,g.bF)(p,{onClick:l[4]||(l[4]=e=>F.value=!1)},{default:(0,g.k6)(()=>l[10]||(l[10]=[(0,g.eW)("关闭")])),_:1,__:[10]})])]),default:(0,g.k6)(()=>[(0,g.Lk)("img",{src:z.value,style:{width:"100%","border-radius":"8px"},alt:"生成的图片"},null,8,v)]),_:1},8,["modelValue"])])}}},p=l(6262);const c=(0,p.A)(f,[["__scopeId","data-v-5a9b4750"]]);var k=c}}]);