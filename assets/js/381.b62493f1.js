"use strict";(self["webpackChunkinteresting_util_client"]=self["webpackChunkinteresting_util_client"]||[]).push([[381],{3381:function(e,a,l){l.r(a),l.d(a,{default:function(){return k}});var i=l(641),r=l(33),g=l(953),b=l(354),u=l.n(b),n=l(163),t=l(5638);const o={class:"font-to-image-row-container"},s={class:"font-to-image-left"},d={class:"font-to-image-right"},v={style:{"margin-bottom":"0.5rem"}},h=["src"],f={class:"dialog-footer"};var c={__name:"fontToImage",setup(e){const a=[{label:"纯色背景",value:"solid"},{label:"渐变背景",value:"gradient"},{label:"格子背景",value:"grid"},{label:"纹理背景",value:"texture"}],l=[{label:"经典白",value:"bg-white"},{label:"淡雅蓝",value:"bg-blue"},{label:"活力橙",value:"bg-orange"},{label:"淡灰卡片",value:"bg-light-gray"},{label:"雅黑黑",value:"bg-dark-black"},{label:"米黄纸",value:"bg-milky-paper"},{label:"夜间深蓝",value:"bg-night-blue"},{label:"淡粉紫",value:"bg-light-pink-purple"},{label:"知乎白",value:"bg-zhihu-white"},{label:"知乎淡蓝",value:"bg-zhihu-light-blue"},{label:"知乎淡黄",value:"bg-zhihu-light-yellow"},{label:"知乎淡绿",value:"bg-zhihu-light-green"},{label:"知乎淡灰",value:"bg-zhihu-light-gray"},{label:"小红书粉",value:"bg-xiaohongshu-pink"},{label:"小红书紫",value:"bg-xiaohongshu-purple"},{label:"小红书蓝",value:"bg-xiaohongshu-blue"},{label:"小红书绿",value:"bg-xiaohongshu-green"},{label:"小红书橙",value:"bg-xiaohongshu-orange"}],b=[{label:"渐变绿",value:"bg-gradient-green"},{label:"蓝紫渐变",value:"bg-gradient-bluepurple"},{label:"橙粉渐变",value:"bg-gradient-orange-pink"},{label:"青绿渐变",value:"bg-gradient-cyan-green"},{label:"蓝紫竖向渐变",value:"bg-v-gradient-bluepurple"},{label:"橙粉竖向渐变",value:"bg-v-gradient-orange-pink"},{label:"青绿竖向渐变",value:"bg-v-gradient-cyan-green"},{label:"柔和青蓝",value:"bg-gradient-soft-cyan-blue"},{label:"柔粉橙黄",value:"bg-gradient-soft-pink-orange"},{label:"柔紫蓝",value:"bg-gradient-soft-purple-blue"},{label:"柔绿黄",value:"bg-gradient-soft-green-yellow"},{label:"柔米白",value:"bg-gradient-soft-milky"},{label:"知乎蓝白渐变",value:"bg-zhihu-blue-white-gradient"},{label:"小红书粉紫渐变",value:"bg-xiaohongshu-pink-purple"},{label:"小红书蓝粉渐变",value:"bg-xiaohongshu-blue-pink"},{label:"日落渐变",value:"bg-gradient-sunset"},{label:"海洋渐变",value:"bg-gradient-ocean"},{label:"森林渐变",value:"bg-gradient-forest"},{label:"星空渐变",value:"bg-gradient-starry"},{label:"彩虹渐变",value:"bg-gradient-rainbow"},{label:"极光渐变",value:"bg-gradient-aurora"},{label:"沙漠渐变",value:"bg-gradient-desert"},{label:"樱花渐变",value:"bg-gradient-cherry"},{label:"薄荷渐变",value:"bg-gradient-mint"},{label:"薰衣草渐变",value:"bg-gradient-lavender"},{label:"珊瑚渐变",value:"bg-gradient-coral"},{label:"薄荷蓝渐变",value:"bg-gradient-mintblue"},{label:"晨曦渐变",value:"bg-gradient-sunrise"},{label:"暮色渐变",value:"bg-gradient-twilight"},{label:"奶油渐变",value:"bg-gradient-cream"}],c=[{label:"格子白",value:"bg-grid-white"},{label:"格子蓝",value:"bg-grid-blue"},{label:"格子粉",value:"bg-grid-pink"},{label:"格子灰",value:"bg-grid-gray"},{label:"格子绿",value:"bg-grid-green"}],p=[{label:"纸张纹理",value:"bg-paper"},{label:"小红书大理石",value:"bg-xiaohongshu-marble"},{label:"小红书纸张",value:"bg-xiaohongshu-paper"},{label:"点状纹理",value:"bg-dot-texture"},{label:"纸张纹理2",value:"bg-paper2"},{label:"斜线纹理",value:"bg-diagonal-line"}],m=(0,g.KR)("solid"),k=(0,g.KR)("bg-white"),w=(0,i.EW)(()=>{switch(m.value){case"solid":return l;case"gradient":return b;case"grid":return c;case"texture":return p;default:return l}});(0,i.wB)(m,e=>{switch(e){case"solid":k.value="bg-white";break;case"gradient":k.value="bg-gradient-green";break;case"grid":k.value="bg-grid-white";break;case"texture":k.value="bg-paper";break}});const y=(0,g.KR)(""),x=(0,g.KR)(null);function _(){const e=new Date,a=e.getFullYear(),l=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${a}-${l}-${i}`}const C=_(),F=(0,g.KR)(!1),S=(0,g.KR)(!1),z=(0,g.KR)(""),R=(0,g.KR)(1.18),K=()=>{R.value=Math.min(R.value+.1,3)},L=()=>{R.value=Math.max(R.value-.1,.6)},V=async()=>{if(!x.value)return;const e=x.value,a=e.style.maxHeight,l=e.style.overflowY;F.value=!0,await(0,i.dY)(),e.style.maxHeight="none",e.style.overflowY="visible";try{const a=await u()(e,{backgroundColor:"#ffffff",useCORS:!0,scale:3,allowTaint:!1,foreignObjectRendering:!1,logging:!1,imageTimeout:0,removeContainer:!0}),l=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);l?(z.value=a.toDataURL("image/png",1),S.value=!0,n.nk.info("请长按图片进行保存或复制")):a.toBlob(async e=>{if(e)try{await navigator.clipboard.write([new window.ClipboardItem({"image/png":e})]),n.nk.success("图片已复制到剪贴板，可直接粘贴")}catch(a){console.error("复制失败:",a),n.nk.error("复制图片到剪贴板失败，可能是浏览器不支持或权限问题")}else n.nk.error("图片生成失败")},"image/png",1)}catch(r){console.error("截图失败:",r),n.nk.error("图片生成失败")}finally{e.style.maxHeight=a,e.style.overflowY=l,F.value=!1}},T=[{label:"Fira Sans",value:'"Fira Sans", Arial, sans-serif'},{label:"Lobster",value:"Lobster, cursive"},{label:"Pacifico",value:"Pacifico, cursive"},{label:"Montserrat",value:"Montserrat, Arial, sans-serif"},{label:"Oswald",value:"Oswald, Arial, sans-serif"},{label:"站酷快乐体",value:'"ZCOOL KuaiLe", "站酷快乐体", cursive'},{label:"站酷庆科黄油体",value:'"ZCOOL QingKe HuangYou", "站酷庆科黄油体", cursive'},{label:"默认",value:""},{label:"微软雅黑",value:'"Microsoft YaHei", sans-serif'},{label:"思源黑体",value:'"Source Han Sans", "Noto Sans SC", sans-serif'},{label:"楷体",value:'KaiTi, "楷体", serif'},{label:"仿宋",value:'FangSong, "仿宋", serif'},{label:"Arial",value:"Arial, sans-serif"},{label:"Serif",value:"serif"},{label:"Monospace",value:"monospace"},{label:"黑体",value:'SimHei, "黑体", sans-serif'},{label:"宋体",value:'SimSun, "宋体", serif'},{label:"华文中宋",value:'STZhongsong, "华文中宋", serif'},{label:"华文仿宋",value:'STFangsong, "华文仿宋", serif'},{label:"华文楷体",value:'STKaiti, "华文楷体", serif'},{label:"华文细黑",value:'STXihei, "华文细黑", sans-serif'},{label:"苹方",value:'PingFang SC, "苹方", sans-serif'},{label:"等线",value:'DengXian, "等线", sans-serif'},{label:"Roboto",value:"Roboto, sans-serif"},{label:"Times New Roman",value:'"Times New Roman", Times, serif'},{label:"Georgia",value:"Georgia, serif"},{label:"Courier New",value:'"Courier New", Courier, monospace'}],A=(0,g.KR)('KaiTi, "楷体", serif'),O={"bg-white":"#222","bg-blue":"#1a237e","bg-orange":"#a35a00","bg-light-gray":"#222","bg-milky-paper":"#6b4e16","bg-light-pink-purple":"#7c4d8a","bg-zhihu-white":"#222","bg-zhihu-light-blue":"#225488","bg-zhihu-light-yellow":"#b89b4b","bg-zhihu-light-green":"#3a7a3a","bg-zhihu-light-gray":"#444","bg-xiaohongshu-pink":"#8e4a6b","bg-xiaohongshu-purple":"#6b4a8e","bg-xiaohongshu-blue":"#225488","bg-xiaohongshu-green":"#2d5a2d","bg-xiaohongshu-orange":"#a35a00","bg-xiaohongshu-marble":"#4a4a4a","bg-xiaohongshu-paper":"#6b4e16","bg-grid-white":"#222","bg-grid-blue":"#1a237e","bg-grid-pink":"#8e4a6b","bg-grid-gray":"#444","bg-grid-green":"#2d5a2d","bg-dark-black":"#fff","bg-night-blue":"#e0e6f6","bg-paper":"#6b4e16","bg-paper2":"#6b4e16","bg-dot-texture":"#4a4a4a","bg-diagonal-line":"#4a4a4a","bg-gradient-green":"#1a4d2e","bg-gradient-bluepurple":"#fff","bg-gradient-orange-pink":"#a35a00","bg-gradient-cyan-green":"#1a4d2e","bg-v-gradient-bluepurple":"#fff","bg-v-gradient-orange-pink":"#a35a00","bg-v-gradient-cyan-green":"#1a4d2e","bg-gradient-soft-cyan-blue":"#227488","bg-gradient-soft-pink-orange":"#b87a4b","bg-gradient-soft-purple-blue":"#5a6a8e","bg-gradient-soft-green-yellow":"#6b8e23","bg-gradient-soft-milky":"#7c6f57","bg-zhihu-blue-white-gradient":"#225488","bg-xiaohongshu-pink-purple":"#8e4a6b","bg-xiaohongshu-blue-pink":"#225488","bg-gradient-sunset":"#fff","bg-gradient-ocean":"#fff","bg-gradient-forest":"#fff","bg-gradient-starry":"#fff","bg-gradient-rainbow":"#fff","bg-gradient-aurora":"#227488","bg-gradient-desert":"#8e6b4a","bg-gradient-cherry":"#8e4a6b","bg-gradient-mint":"#2d5a2d","bg-gradient-lavender":"#fff","bg-gradient-coral":"#fff","bg-gradient-mintblue":"#227488","bg-gradient-sunrise":"#a35a00","bg-gradient-twilight":"#fff","bg-gradient-cream":"#a35a00"},M=(0,i.EW)(()=>O[k.value]||"#222");return(e,l)=>{const b=(0,i.g2)("el-input"),u=(0,i.g2)("el-card"),n=(0,i.g2)("el-button"),c=(0,i.g2)("el-option"),p=(0,i.g2)("el-select"),_=(0,i.g2)("el-dialog");return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.bF)(t.A),(0,i.Lk)("div",o,[(0,i.Lk)("div",s,[(0,i.bF)(u,{class:"input-card"},{header:(0,i.k6)(()=>l[6]||(l[6]=[(0,i.Lk)("div",{class:"input-title"},"输入你的摘录文字",-1)])),default:(0,i.k6)(()=>[(0,i.bF)(b,{modelValue:y.value,"onUpdate:modelValue":l[0]||(l[0]=e=>y.value=e),type:"textarea",rows:30,placeholder:"请输入你想生成图片的文字",class:"input-area"},null,8,["modelValue"])]),_:1})]),(0,i.Lk)("div",d,[l[11]||(l[11]=(0,i.Lk)("div",{class:"preview-title"},"预览效果",-1)),(0,i.Lk)("div",v,[(0,i.bF)(n,{size:"small",onClick:L},{default:(0,i.k6)(()=>l[7]||(l[7]=[(0,i.eW)("A-",-1)])),_:1,__:[7]}),(0,i.bF)(n,{size:"small",onClick:K},{default:(0,i.k6)(()=>l[8]||(l[8]=[(0,i.eW)("A+",-1)])),_:1,__:[8]})]),(0,i.bF)(p,{modelValue:m.value,"onUpdate:modelValue":l[1]||(l[1]=e=>m.value=e),placeholder:"选择背景类型",size:"small",style:{"margin-bottom":"0.7rem",width:"180px"}},{default:(0,i.k6)(()=>[((0,i.uX)(),(0,i.CE)(i.FK,null,(0,i.pI)(a,e=>(0,i.bF)(c,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"]),(0,i.bF)(p,{modelValue:k.value,"onUpdate:modelValue":l[2]||(l[2]=e=>k.value=e),placeholder:"选择背景",size:"small",style:{"margin-bottom":"0.7rem",width:"180px"}},{default:(0,i.k6)(()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(w.value,e=>((0,i.uX)(),(0,i.Wv)(c,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),(0,i.bF)(p,{modelValue:A.value,"onUpdate:modelValue":l[3]||(l[3]=e=>A.value=e),placeholder:"选择字体",size:"small",style:{"margin-bottom":"0.7rem",width:"180px"}},{default:(0,i.k6)(()=>[((0,i.uX)(),(0,i.CE)(i.FK,null,(0,i.pI)(T,e=>(0,i.bF)(c,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"]),(0,i.bF)(n,{type:"success",class:"copy-btn",onClick:V,size:"small"},{default:(0,i.k6)(()=>l[9]||(l[9]=[(0,i.eW)("复制图片",-1)])),_:1,__:[9]}),(0,i.Lk)("div",{ref_key:"imageCardRef",ref:x,class:(0,r.C4)(["weixin-card-preview",k.value])},[l[10]||(l[10]=(0,i.Lk)("div",{class:"quote-mark"},'"',-1)),(0,i.Lk)("div",{class:"weixin-card-text",style:(0,r.Tr)({color:M.value,fontFamily:A.value||void 0,fontSize:R.value+"rem"})},(0,r.v_)(y.value||"这里会显示你的摘录内容"),5),F.value?((0,i.uX)(),(0,i.CE)("div",{key:0,class:"weixin-card-date",style:(0,r.Tr)({color:M.value})},(0,r.v_)((0,g.R1)(C)),5)):(0,i.Q3)("",!0)],2)])]),(0,i.bF)(_,{modelValue:S.value,"onUpdate:modelValue":l[5]||(l[5]=e=>S.value=e),title:"保存图片",width:"90%",center:""},{footer:(0,i.k6)(()=>[(0,i.Lk)("span",f,[(0,i.bF)(n,{onClick:l[4]||(l[4]=e=>S.value=!1)},{default:(0,i.k6)(()=>l[12]||(l[12]=[(0,i.eW)("关闭",-1)])),_:1,__:[12]})])]),default:(0,i.k6)(()=>[(0,i.Lk)("img",{src:z.value,style:{width:"100%","border-radius":"8px"},alt:"生成的图片"},null,8,h)]),_:1},8,["modelValue"])])}}},p=l(6262);const m=(0,p.A)(c,[["__scopeId","data-v-0dd5c846"]]);var k=m}}]);