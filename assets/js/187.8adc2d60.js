"use strict";(self["webpackChunkinteresting_util_client"]=self["webpackChunkinteresting_util_client"]||[]).push([[187],{6187:function(t,e,n){n.r(e),n.d(e,{default:function(){return y}});n(4603),n(7566),n(8721);var o=n(641),s=n(953),l=n(163),a=n(5093),r=n.n(a),c=n(4177),i=n(5638);const u={id:"app"},d={class:"card-header"},f={class:"el-button-list"},p={class:"json-title"},k={class:"json-title"},m=4;var b={__name:"JsonFormat",setup(t){const e=(0,s.Kh)({oldJson:"",formatJson:""});function n(t,e){let n=null;return function(...o){clearTimeout(n),n=setTimeout(()=>t.apply(this,o),e)}}function a(){if(!e.formatJson)return void l.nk.error("下载空 Json 没有意义");let t=document.createElement("a");const n=r()().format("YYYY-MM-DD-hh-mm-ss");t.download=n+".json",t.style.display="none";let o=new Blob([e.formatJson],{type:"text/json"});t.href=URL.createObjectURL(o),document.body.appendChild(t),t.click(),document.body.removeChild(t)}function b(){e.oldJson?(e.formatJson="",e.oldJson=""):l.nk.info("已经清空了，没必要再次清空")}async function J(){const{toClipboard:t}=(0,c.A)();if(e.formatJson)try{await t(e.formatJson),l.nk.success("复制格式化后的 json 到剪贴板成功")}catch(n){console.error(n),l.nk.error("复制格式化后的 json 到剪贴板失败")}else l.nk.error("无法复制空的 json ")}return(0,o.sV)(()=>{document.querySelector("body").setAttribute("style","background: #EBEDF0")}),(0,o.wB)(()=>e.oldJson,n(t=>{if("string"===typeof t&&""!==t.trim())try{const n=JSON.parse(t);e.formatJson=JSON.stringify(n,null,m)}catch(n){e.formatJson="",l.nk.error("待格式化的 Json 有误，请检查")}else e.formatJson=""},300)),(t,n)=>{const s=(0,o.g2)("el-button"),l=(0,o.g2)("el-input"),r=(0,o.g2)("el-col"),c=(0,o.g2)("highlightjs"),m=(0,o.g2)("el-row"),h=(0,o.g2)("el-card");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(i.A),(0,o.Lk)("div",u,[(0,o.bF)(h,{class:"box-card"},{header:(0,o.k6)(()=>[(0,o.Lk)("div",d,[n[2]||(n[2]=(0,o.Lk)("div",{class:"title"},"Json 格式化",-1)),(0,o.Lk)("div",f,[(0,o.bF)(s,{class:"button",type:"primary",onClick:a},{default:(0,o.k6)(()=>n[1]||(n[1]=[(0,o.eW)("下载",-1)])),_:1,__:[1]})])])]),default:(0,o.k6)(()=>[(0,o.bF)(m,{gutter:40,class:"content-row"},{default:(0,o.k6)(()=>[(0,o.bF)(r,{span:12,class:"el-input-content"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",p,[n[4]||(n[4]=(0,o.eW)(" 待格式化 Json ",-1)),(0,o.bF)(s,{class:"clear-and-copy-button",type:"danger",onClick:b},{default:(0,o.k6)(()=>n[3]||(n[3]=[(0,o.eW)("清空",-1)])),_:1,__:[3]})]),(0,o.bF)(l,{modelValue:e.oldJson,"onUpdate:modelValue":n[0]||(n[0]=t=>e.oldJson=t),type:"textarea",placeholder:"请输入待格式化 JSON 字符串",class:"el-input-class"},null,8,["modelValue"])]),_:1}),(0,o.bF)(r,{span:12,class:"el-input-content"},{default:(0,o.k6)(()=>[(0,o.Lk)("div",k,[n[6]||(n[6]=(0,o.eW)(" 格式化后的 Json ",-1)),(0,o.bF)(s,{class:"clear-and-copy-button",type:"success",onClick:J},{default:(0,o.k6)(()=>n[5]||(n[5]=[(0,o.eW)("复制到剪贴板",-1)])),_:1,__:[5]})]),(0,o.bF)(c,{language:"json",code:e.formatJson,class:"highlight-json"},null,8,["code"])]),_:1})]),_:1})]),_:1})])],64)}}},J=n(6262);const h=(0,J.A)(b,[["__scopeId","data-v-2361e4d3"]]);var y=h}}]);